{
	"info": {
		"_postman_id": "a135a88d-5c0b-4167-a717-55d3c21593f3",
		"name": "TestPiClinicAPI",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Method File Access Test",
			"item": [
				{
					"name": "log",
					"item": [
						{
							"name": "log_common script access test Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/log_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log_common.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log_common.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "log_get script access test Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/log_get.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log_get.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log_get.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "log_post script access test Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/log_post.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log_post.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log_post.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Session",
					"item": [
						{
							"name": "session_common script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/session_common .php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session_common .php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session_common .php"
									]
								}
							},
							"response": []
						},
						{
							"name": "session_post script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/session_post.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session_post.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session_post.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "session_get script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/session_get.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session_get.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session_get.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "session_delete script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/session_delete.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session_delete.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session_delete.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Staff",
					"item": [
						{
							"name": "staff_common script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff_common.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff_common.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "staff_delete script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_delete.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff_delete.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff_delete.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "staff_get script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_get.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff_get.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff_get.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "staff_patch script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_patch.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff_patch.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff_patch.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "staff_post script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_post.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff_post.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff_post.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Comment",
					"item": [
						{
							"name": "comment_common script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/comment_common.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"comment_common.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "comment_get script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_get.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/comment_get.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"comment_get.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "comment_post script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_post.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/comment_post.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"comment_post.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Textmsg",
					"item": [
						{
							"name": "textmsg_common script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/textmsg_common.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"textmsg_common.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "textmsg_delete script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_delete.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/textmsg_delete.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"textmsg_delete.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "textmsg_get script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_get.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/textmsg_get.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"textmsg_get.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "textmsg_patch script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_patch.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/textmsg_patch.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"textmsg_patch.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "textmsg_post script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/staff_post.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff_post.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff_post.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Shared",
					"item": [
						{
							"name": "shared dbUtils script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/shared/dbUtils.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"shared",
										"dbUtils.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "shared logUtils script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/shared/logUtils.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"shared",
										"logUtils.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "shared piClinicConfig script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/shared/piClinicConfig.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"shared",
										"piClinicConfig.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "shared profile script access test API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/shared/profile.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"shared",
										"profile.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "shared security script access test API Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "50621ed2-48a2-4475-9060-ad6e9a80747a",
										"exec": [
											"pm.test(\"api/comment_common.php access denial check was successful\", function() {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/shared/security.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"shared",
										"security.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "Session login/out",
			"item": [
				{
					"name": "Session Open",
					"item": [
						{
							"name": "Get testUser token API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed713fa2-ae3d-46f3-aa9c-38838bd026ba",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"token\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"Login was successful\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{testUser}}&password={{testUserPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{testUser}}"
										},
										{
											"key": "password",
											"value": "{{testUserPW}}"
										}
									]
								},
								"description": "Logs in as test user"
							},
							"response": []
						},
						{
							"name": "Get Session Access API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d621b809-21f4-4468-84e3-8b683b1b899d",
										"exec": [
											"pm.test(\"Access check was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SystemAdmin token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"pm.variables.set(\"SAtoken\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"System Admin login was successful\", function() {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{systemAdminUser}}&password={{systemAdminPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{systemAdminUser}}"
										},
										{
											"key": "password",
											"value": "{{systemAdminPW}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Success Tests",
					"item": [
						{
							"name": "Change session language",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d75c8f84-745b-424a-b957-bd74130a6234",
										"exec": [
											"pm.test(\"Language change was successful\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Language is now Spanish\", function() {\r",
											"    var jsonData = JSON.parse(responseBody);\r",
											"    pm.expect(jsonData.data.sessionLanguage === 'es');\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?sessionLanguage=es",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "sessionLanguage",
											"value": "es"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Change session clinic",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d75c8f84-745b-424a-b957-bd74130a6234",
										"exec": [
											"pm.test(\"Language change was sucessful\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Clinic has been updated\", function() {\r",
											"    var jsonData = JSON.parse(responseBody);\r",
											"    pm.expect(jsonData.data.sessionClinicPublicID === \"710\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?sessionClinicPublicID=710",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "sessionClinicPublicID",
											"value": "710"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Error Tests",
					"item": [
						{
							"name": "Patch Session Access Missing Token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Missing Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Missing token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Patch Session Access Invalid Token Format",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{InvalidToken_Format}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Invalid Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Invalid token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Session Access Invalid Token Format",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{InvalidToken_Format}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Invalid Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Invalid token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Session Close",
					"item": [
						{
							"name": "Close current session API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Session Access after logout API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9746528d-2e17-4c7d-b744-3e720334bcb6",
										"exec": [
											"postman.setEnvironmentVariable(\"token\", null);",
											"",
											"pm.test(\"Access failed\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Close System Admin session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"SystemAdmin Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{SAtoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Session Admin access tests",
					"item": [
						{
							"name": "Get current user token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed713fa2-ae3d-46f3-aa9c-38838bd026ba",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"pm.variables.set(\"currentUserToken\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"Login was successful\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{testUser}}&password={{testUserPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{testUser}}"
										},
										{
											"key": "password",
											"value": "{{testUserPW}}"
										}
									]
								},
								"description": "Logs in as Test User"
							},
							"response": []
						},
						{
							"name": "Get regular user token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed713fa2-ae3d-46f3-aa9c-38838bd026ba",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"pm.variables.set(\"regularUserToken\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"Login was successful\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username=TestCS&password={{testUserPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "TestCS"
										},
										{
											"key": "password",
											"value": "{{testUserPW}}"
										}
									]
								},
								"description": "Logs in as TestUser"
							},
							"response": []
						},
						{
							"name": "Current user access regular user session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"\r",
											"pm.test(\"Session query was successful\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if (userAcct == 'TestSA') {\r",
											"        pm.response.to.have.status(200);\r",
											"    } else {\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"Session data was correct\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if (userAcct == 'TestSA') {\r",
											"        pm.expect(jsonData.data.sessionID !== undefined);\r",
											"    } else {\r",
											"        pm.expect(jsonData.data.sessionID === undefined);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{currentUserToken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?token={{regularUserToken}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "token",
											"value": "{{regularUserToken}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Regular user access current user session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"\r",
											"pm.test(\"Session query was prevented\", function() {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"\r",
											"pm.test(\"Session data was correct\", function() {\r",
											"    pm.expect(jsonData.data.token === 0);\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{regularUserToken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?token={{currentUserToken}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "token",
											"value": "{{currentUserToken}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Close current user session API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{currentUserToken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get current user Session Access after logout",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9746528d-2e17-4c7d-b744-3e720334bcb6",
										"exec": [
											"postman.setEnvironmentVariable(\"token\", null);",
											"",
											"pm.test(\"Access failed\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{currentUserToken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Close regular user session API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{regularUserToken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get regular user Session Access after logout",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9746528d-2e17-4c7d-b744-3e720334bcb6",
										"exec": [
											"postman.setEnvironmentVariable(\"token\", null);",
											"",
											"pm.test(\"Access failed\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{regularUserToken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "Log API Test",
			"item": [
				{
					"name": "Session Open",
					"item": [
						{
							"name": "Get Test User token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed713fa2-ae3d-46f3-aa9c-38838bd026ba",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"token\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"Login was successful\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{testUser}}&password={{testUserPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{testUser}}"
										},
										{
											"key": "password",
											"value": "{{testUserPW}}"
										}
									]
								},
								"description": "Logs in as Test User"
							},
							"response": []
						},
						{
							"name": "Get Session Access",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Access check was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SystemAdmin token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"pm.variables.set(\"SAtoken\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"System Admin login was successful\", function() {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{systemAdminUser}}&password={{systemAdminPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{systemAdminUser}}"
										},
										{
											"key": "password",
											"value": "{{systemAdminPW}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Success Tests",
					"item": [
						{
							"name": "LogTest-BasicFields (SystemAdmin only)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4c658880-e599-455f-84b1-9dac32436384",
										"exec": [
											"pm.test(\"Writing basic fields was successful\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if (userAcct == 'TestSA') {\r",
											"        pm.response.to.have.status(201);\r",
											"    } else {\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text"
									},
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "text"
										},
										{
											"key": "userToken",
											"value": "{{token}}",
											"type": "text"
										},
										{
											"key": "sourceModule",
											"value": "_TEST_",
											"type": "text"
										},
										{
											"key": "logClass",
											"value": "AUTOTEST",
											"type": "text"
										},
										{
											"key": "logTable",
											"value": "_TEST_",
											"type": "text"
										},
										{
											"key": "logAction",
											"value": "POST",
											"type": "text"
										},
										{
											"key": "logStatusMessage",
											"value": "{{testMessage}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Log Test-ReadBasicFields",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b579dd39-b1c7-444b-a3e7-84d1244b184b",
										"exec": [
											"pm.test(\"Basic Fields read was successful\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') ||  (userAcct == 'TestCA') || (userAcct == 'TestCS')) {\r",
											"        // staff cam read, but can't create so the user is not found\r",
											"        pm.response.to.have.status(200);\r",
											"    } else {\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"Basic Fields read data was correct\", function() {\r",
											"    var jsonData = JSON.parse(responseBody);\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if (userAcct == 'TestSA') {\r",
											"        pm.expect(jsonData.data.logStatusMessage === pm.testMessage);\r",
											"    } else {\r",
											"        pm.expect(1); // don't test the value if not authorized\r",
											"    }    \r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php?usertoken={{SAtoken}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									],
									"query": [
										{
											"key": "usertoken",
											"value": "{{SAtoken}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Error Tests",
					"item": [
						{
							"name": "Get Log Access  Missing Token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Missing Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Missing token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get log access Invalid Token Format",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{InvalidToken_Format}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Invalid Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Invalid token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Session Close",
					"item": [
						{
							"name": "Close current session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Session Access after logout",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9746528d-2e17-4c7d-b744-3e720334bcb6",
										"exec": [
											"postman.setEnvironmentVariable(\"token\", null);",
											"",
											"pm.test(\"Access failed\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Close System Admin session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"SystemAdmin Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{SAtoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "c2232b22-b1ba-4495-8275-3d6496fbcfff",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "8d350a22-3a13-4006-b325-14271398e18f",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Staff API Test",
			"item": [
				{
					"name": "Session Open",
					"item": [
						{
							"name": "Get Test User token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed713fa2-ae3d-46f3-aa9c-38838bd026ba",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"token\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"Login was successful\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{testUser}}&password={{testUserPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{testUser}}"
										},
										{
											"key": "password",
											"value": "{{testUserPW}}"
										}
									]
								},
								"description": "Logs in as Test User"
							},
							"response": []
						},
						{
							"name": "Get Session Access",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Access check was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SystemAdmin token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"pm.variables.set(\"SAtoken\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"System Admin login was successful\", function() {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{systemAdminUser}}&password={{systemAdminPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{systemAdminUser}}"
										},
										{
											"key": "password",
											"value": "{{systemAdminPW}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Success Tests",
					"item": [
						{
							"name": "Create new Staff member",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8dc1b9d4-2bad-4163-8228-4ee3e03674aa",
										"exec": [
											"pm.test(\"New user creation successful\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // save new username to use in subsequent calls\r",
											"        var jsonData = JSON.parse(responseBody);\r",
											"        pm.variables.set(\"newUser\", jsonData.data.username);\r",
											"        // this shoult be successful\r",
											"        pm.response.to.have.status(201);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text"
									},
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "username",
											"value": "testUser{{$timestamp}}",
											"type": "text"
										},
										{
											"key": "password",
											"value": "{{TestPassword}}",
											"type": "text"
										},
										{
											"key": "lastName",
											"value": "TestUser{{$randomInt}}",
											"type": "text"
										},
										{
											"key": "firstName",
											"value": "FirstName",
											"type": "text"
										},
										{
											"key": "accessGranted",
											"value": "ClinicStaff",
											"type": "text"
										},
										{
											"key": "memberID",
											"value": "Member{{$timestamp}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/api/staff.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get recently created user ",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "284f1c2c-099c-4131-b059-7ce9ec4438c5",
										"exec": [
											"pm.test(\"New user creation successful\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.response.to.have.status(200);\r",
											"    } else if  (userAcct == 'TestCS') {\r",
											"        // staff cam read, but can't create so the user is not found\r",
											"        pm.response.to.have.status(404);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php?username={{newUser}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{newUser}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update last name",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "56959611-4bec-4307-bb81-35c05eeea052",
										"exec": [
											"\r",
											"\r",
											"pm.test(\"Name change  was successful\", function () {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.response.to.have.status(200);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"New user creation successful\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        var jsonData = JSON.parse(responseBody);\r",
											"        pm.expect(jsonData.data.NameLast === \"NewLastName\");\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"       pm.expect(1);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php?username={{newUser}}&lastName=NewLastName",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{newUser}}"
										},
										{
											"key": "lastName",
											"value": "NewLastName"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update preferred lang",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "56959611-4bec-4307-bb81-35c05eeea052",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"\r",
											"pm.test(\"Preferred language change was successful\", function () {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.response.to.have.status(200);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"Preferred language was changed correctly\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.expect(jsonData.data.PrefLang === \"es\");\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.expect(1);\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php?username={{newUser}}&preferredLanguage=es",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{newUser}}"
										},
										{
											"key": "preferredLanguage",
											"value": "es"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update preferred clinic",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "56959611-4bec-4307-bb81-35c05eeea052",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"\r",
											"pm.test(\"Clinic change change was successful\", function () {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.response.to.have.status(200);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"Clinic was changed correctly\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.expect(jsonData.data.PrefClinicPublicID === \"710\");\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.expect(1);\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php?username={{newUser}}&preferredClinicPublicID=710",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{newUser}}"
										},
										{
											"key": "preferredClinicPublicID",
											"value": "710"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Verify updated last name",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "284f1c2c-099c-4131-b059-7ce9ec4438c5",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"\r",
											"pm.test(\"Reading new user was successful\", function () {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.response.to.have.status(200);\r",
											"    } else if  (userAcct == 'TestCS') {\r",
											"        // staff cam read, but can't create so the user is not found\r",
											"        pm.response.to.have.status(404);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"NewUser was changed correctly\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.expect(jsonData.data.NameLast === \"NewLastName\");\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.expect(1);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php?username={{newUser}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{newUser}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Deactivate new user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "284f1c2c-099c-4131-b059-7ce9ec4438c5",
										"exec": [
											"pm.test(\"Clinic change change was successful\", function () {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.response.to.have.status(200);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php?username={{newUser}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{newUser}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Verify deactivated user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "284f1c2c-099c-4131-b059-7ce9ec4438c5",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"\r",
											"pm.test(\"New user record found\", function () {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.response.to.have.status(200);\r",
											"    } else if  (userAcct == 'TestCS') {\r",
											"        // staff cam read, but can't create so the user is not found\r",
											"        pm.response.to.have.status(404);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Only one user matched query\", function() {\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.expect(jsonData.count ===1);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.expect(1);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"New user deactivated successfully\", function() {\r",
											"        pm.expect(jsonData.data.Active === 0);\r",
											"    var userAcct = pm.environment.get('testUser');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA')) {\r",
											"        // this should be successful\r",
											"        pm.expect(jsonData.data.Active === 0);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.expect(1);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php?username={{newUser}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{newUser}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Error Tests",
					"item": [
						{
							"name": "Get Staff Access  Missing Token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Missing Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Missing token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get staff access Invalid Token Format",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{InvalidToken_Format}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/staff.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"staff.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Invalid Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Invalid token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Session Close",
					"item": [
						{
							"name": "Close current session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Session Access after logout",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9746528d-2e17-4c7d-b744-3e720334bcb6",
										"exec": [
											"postman.setEnvironmentVariable(\"token\", null);",
											"",
											"pm.test(\"Access failed\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Close System Admin session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"SystemAdmin Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{SAtoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "Comment API Test",
			"item": [
				{
					"name": "Session Open",
					"item": [
						{
							"name": "Get Test User token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed713fa2-ae3d-46f3-aa9c-38838bd026ba",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"token\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"Login was successful\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{testUser}}&password={{testUserPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{testUser}}"
										},
										{
											"key": "password",
											"value": "{{testUserPW}}"
										}
									]
								},
								"description": "Logs in as Test User"
							},
							"response": []
						},
						{
							"name": "Get Session Access",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Access check was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SystemAdmin token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"pm.variables.set(\"SAtoken\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"System Admin login was successful\", function() {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{systemAdminUser}}&password={{systemAdminPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{systemAdminUser}}"
										},
										{
											"key": "password",
											"value": "{{systemAdminPW}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Success Tests",
					"item": [
						{
							"name": "Post a new comment",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9e1746f1-fc85-4b15-8f2f-1a2115c98de0",
										"exec": [
											"pm.test(\"A new comment was posted\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text"
									},
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "username",
											"value": "AUTO_TEST",
											"type": "text"
										},
										{
											"key": "ReferringUrl",
											"value": "TestPlatform",
											"type": "text"
										},
										{
											"key": "commentText",
											"value": "This is some text from Postman. Test text:  {{$guid}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/api/comment.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"comment.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read comments",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6ed5651f-494a-4627-bd34-770400c1a377",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"\r",
											"pm.test(\"Comments were read successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Multiple comments returned\", function() {\r",
											"    pm.expect(jsonData.data.count > 1);\r",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/comment.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"comment.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Error Tests",
					"item": [
						{
							"name": "Get Comment Access  Missing Token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/comment.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"comment.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Missing Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Missing token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get comment access Invalid Token Format",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Invalid token check was successful\", function() {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{InvalidToken_Format}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/comment.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"comment.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Test Invalid Token Error Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2314ddae-dad4-4e7f-bc8f-2c55e54243f2",
										"exec": [
											"pm.test(\"Log retrieved successfully\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"var jsonData = JSON.parse(responseBody);\r",
											"var lastMessage = null;\r",
											"\r",
											"if (jsonData.count > 1) {\r",
											"    lastMessage = jsonData.data[0];\r",
											"} else {\r",
											"    lastMessage = jsonData.data;    \r",
											"}\r",
											"\r",
											"pm.test(\"Log message correct.\", function() {\r",
											"     pm.expect(lastMessage.logStatusMessage.indexOf('Invalid token') > 0);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{SAtoken}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/log.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"log.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Session Close",
					"item": [
						{
							"name": "Close current session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Session Access after logout Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9746528d-2e17-4c7d-b744-3e720334bcb6",
										"exec": [
											"postman.setEnvironmentVariable(\"token\", null);",
											"",
											"pm.test(\"Access failed\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Close System Admin session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"SystemAdmin Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{SAtoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"name": "TextMsg API Test",
			"item": [
				{
					"name": "Session Open",
					"item": [
						{
							"name": "Get Test User token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ed713fa2-ae3d-46f3-aa9c-38838bd026ba",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"token\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"Login was successful\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{testUser}}&password={{testUserPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{testUser}}"
										},
										{
											"key": "password",
											"value": "{{testUserPW}}"
										}
									]
								},
								"description": "Logs in as Test User"
							},
							"response": []
						},
						{
							"name": "Get Session Access",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"pm.test(\"Access check was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get SystemAdmin token",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d02fe32-8ed9-4f1b-aa4b-9f9d0f97c059",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"pm.variables.set(\"SAtoken\", jsonData.data.token);\r",
											"\r",
											"pm.test(\"System Admin login was successful\", function() {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php?username={{systemAdminUser}}&password={{systemAdminPW}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									],
									"query": [
										{
											"key": "username",
											"value": "{{systemAdminUser}}"
										},
										{
											"key": "password",
											"value": "{{systemAdminPW}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Success Tests",
					"item": [
						{
							"name": "Queue a new text message",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1969d74f-5bfd-43eb-b953-80a5d45227a5",
										"exec": [
											"var userAcct = pm.environment.get('testUser');\r",
											"\r",
											"pm.test(\"New text message was successful\", function () {\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA') || (userAcct == 'TestCS')) {\r",
											"         // this should be successful\r",
											"        pm.response.to.have.status(201);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"        pm.response.to.have.status(401);\r",
											"    }\r",
											"});\r",
											"\r",
											"pm.test(\"New message phone number is correct.\", function() {\r",
											"    var newDest = pm.environment.get('testTextMsgDest');\r",
											"    if ((userAcct == 'TestSA') || (userAcct == 'TestCA') || (userAcct == 'TestCS')) {\r",
											"        // this should be successful\r",
											"        var jsonData = JSON.parse(responseBody);\r",
											"        pm.expect(jsonData.data.destNumber === newDest);\r",
											"    } else {\r",
											"        // the user doesn't have permission to do this.\r",
											"       pm.expect(1);\r",
											"    }\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "messageText",
											"value": "Hi there, this is your reminder message! {{$guid}}",
											"type": "text"
										},
										{
											"key": "patientID",
											"value": "nu",
											"type": "text",
											"disabled": true
										},
										{
											"key": "destNumber",
											"value": "{{testTextMsgDest}}",
											"type": "text"
										},
										{
											"key": "sendDateTime",
											"value": "",
											"type": "text",
											"disabled": true
										},
										{
											"key": "sendService",
											"value": "LocalMobile",
											"type": "text"
										},
										{
											"key": "maxSendAttempts",
											"value": "5",
											"description": "`",
											"type": "text"
										},
										{
											"key": "retryInterval",
											"value": "10",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}/api/textmsg.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"textmsg.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Session Close",
					"item": [
						{
							"name": "Close current session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Session Access after logout",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9746528d-2e17-4c7d-b744-3e720334bcb6",
										"exec": [
											"postman.setEnvironmentVariable(\"token\", null);",
											"",
											"pm.test(\"Access failed\", function() {",
											"    pm.response.to.have.status(404);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-piClinic-token",
										"value": "{{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						},
						{
							"name": "Close System Admin session",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aaa1cba2-7814-4be5-8931-c54e2dfc4b44",
										"exec": [
											"pm.test(\"SystemAdmin Logout was successful\", function() {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-piClinic-token",
										"type": "text",
										"value": "{{SAtoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{host}}/api/session.php",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"session.php"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		}
	]
}